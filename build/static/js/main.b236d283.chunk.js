(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{590:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),i=n.n(c),o=n(59),s=n(621),l=n(46),j=n.n(l),u=n(75),d=n(60),b=n(19),O=n(263),f=n.n(O),h=n(392),x=n.n(h),p=n(402),m=n.n(p),v=n(393),g=n.n(v),y=n(400),w=n.n(y),R=n(271),S=n.n(R),C=n(270),T=n.n(C),D=n(394),k=n.n(D),q=n(395),F=n.n(q),M=n(397),E=n.n(M),P=n(398),I=n.n(P),W=n(399),A=n.n(W),J=n(403),L=n.n(J),N=n(396),V=n.n(N),_=n(401),G=n.n(_),B=n(404),H=n.n(B),Y="http://localhost:4000/api/v1/movies",z=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=null,e.next=4,fetch(Y,{method:"GET"}).then((function(e){return e.json()})).then((function(e){t=e}));case 4:return e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("Some error happened while retrieving list of movies !");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Y+"/"+t,{method:"DELETE"}).then((function(){return"Movie deleted"}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Some error happened while deleting a movie !");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,fetch(Y,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n=e}));case 4:return e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(1),console.log("Some error happened while creating a movie !");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),U=n(8),X={Add:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(x.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(g.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(T.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(k.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(S.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(F.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(V.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(E.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(I.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(A.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(S.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(w.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(T.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(G.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(m.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(L.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(H.a,Object(b.a)(Object(b.a)({},e),{},{ref:t}))}))},Z=function(e){var t=e.data,n=Object(r.useState)(t),a=Object(o.a)(n,2),c=a[0],i=a[1],s=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t._id);case 2:n=Object(d.a)(c),r=c.findIndex((function(e){return e._id===t._id})),n.splice(r,1),i(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)("div",{style:{maxWidth:"100%"},children:Object(U.jsx)(f.a,{icons:X,title:"Movies",columns:[{title:"Title",field:"title"},{title:"Storyline",field:"storyline"}],data:c,options:{actionsColumnIndex:-1},editable:{onRowDelete:function(e){return s(e)}}})})},$=n(618),ee=n(329),te=function(){return Object(U.jsx)("div",{children:Object(U.jsx)(s.a,{fixed:!0,children:Object(U.jsx)($.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(U.jsx)(ee.a,{})})})})},ne=function(){var e=Object(r.useState)(void 0),t=Object(o.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(U.jsx)(U.Fragment,{children:n?Object(U.jsx)(Z,{data:n}):Object(U.jsx)(te,{})})},re=n(623),ae=n(410),ce=n.n(ae),ie=n(334),oe=n(348),se=n(344),le=n(266),je=n(268),ue=n(213),de=n(332),be=n(593),Oe=n(615),fe=n(622),he=n(616),xe=n(617),pe=n(222),me=function(e){var t=e.openForm,n=e.setOpenForm,a=["Crime","Drama"],c=Object(r.useState)([]),i=Object(o.a)(c,2),l=i[0],j=i[1],u=Object(pe.b)(),d=u.setFieldValue,b=u.handleChange,O=u.errors,f=u.touched,h=u.handleSubmit,x=function(){return n(!1)};return Object(U.jsx)(s.a,{maxWidth:"md",children:Object(U.jsxs)(Oe.a,{open:t,onClose:x,fullWidth:!0,maxWidth:"md",children:[Object(U.jsx)(fe.a,{children:"Add New Movie"}),Object(U.jsx)(he.a,{children:Object(U.jsx)("form",{onSubmit:function(e){e.preventDefault(),h()},children:Object(U.jsxs)($.a,{container:!0,spacing:3,children:[Object(U.jsxs)($.a,{item:!0,xs:4,children:[Object(U.jsx)(se.a,{label:"Title",id:"title",name:"title",onChange:b}),f.title&&O.title?Object(U.jsx)("div",{style:{color:"red"},children:O.title}):null]}),Object(U.jsxs)($.a,{item:!0,xs:4,children:[Object(U.jsx)(se.a,{label:"Year",id:"year",name:"year",onChange:b}),f.year&&O.year?Object(U.jsx)("div",{style:{color:"red"},children:O.year}):null]}),Object(U.jsxs)($.a,{item:!0,xs:4,children:[Object(U.jsx)(le.a,{children:"Genre"}),Object(U.jsx)(je.a,{multiple:!0,onChange:function(e){j(e.target.value),d("genres",e.target.value)},name:"genres",id:"genres",value:l,input:Object(U.jsx)(ue.a,{}),children:a.map((function(e){return Object(U.jsx)(de.a,{value:e,children:e},e)}))}),f.genres&&O.genres?Object(U.jsx)("div",{style:{color:"red"},children:O.genres}):null]}),Object(U.jsxs)($.a,{item:!0,xs:4,children:[Object(U.jsx)(se.a,{label:"Content Rating",type:"number",id:"contentRating",name:"contentRating",onChange:b}),f.contentRating&&O.contentRating?Object(U.jsx)("div",{style:{color:"red"},children:O.contentRating}):null]}),Object(U.jsxs)($.a,{item:!0,xs:4,children:[Object(U.jsx)(se.a,{label:"Release Date",type:"date",id:"releaseDate",name:"releaseDate",onChange:b,InputLabelProps:{shrink:!0}}),f.releaseDate&&O.releaseDate?Object(U.jsx)("div",{style:{color:"red"},children:O.releaseDate}):null]}),Object(U.jsxs)($.a,{item:!0,xs:4,children:[Object(U.jsx)(se.a,{label:"Original Title",id:"originalTitle",name:"originalTitle",onChange:b}),f.originalTitle&&O.originalTitle?Object(U.jsx)("div",{style:{color:"red"},children:O.originalTitle}):null]}),Object(U.jsxs)($.a,{item:!0,children:[Object(U.jsx)(be.a,{placeholder:"Storyline",style:{minWidth:"500px",minHeight:"100px"},id:"storyline",name:"storyline",onChange:b}),f.storyline&&O.storyline?Object(U.jsx)("div",{style:{color:"red"},children:O.storyline}):null]})]})})}),Object(U.jsxs)(xe.a,{children:[Object(U.jsx)(oe.a,{onClick:x,variant:"contained",children:"Cancel"}),Object(U.jsx)(oe.a,{color:"primary",onClick:function(){return h()},variant:"contained",children:"Submit"})]})]})})},ve=function(e){return{title:void 0,year:void 0,genres:void 0,contentRating:void 0,releaseDate:void 0,originalTitle:void 0,storyline:void 0,setOpenForm:e}},ge=n(87),ye=function(){return ge.d({title:ge.e().max(30,"Must be 30 characters or less").required("Required"),year:ge.c().min(1800,"Must be more than 1800").max(2022,"Must be less than 2022").required("Required"),genres:ge.a().defined().required("Required"),contentRating:ge.c().min(1,"Must be between 1 and 10").max(10,"Must be between 1 and 10").required("Required"),releaseDate:ge.b().required("Required"),originalTitle:ge.e().required("Required"),storyline:ge.e().min(100,"Must be 100 characters at least").required("Required")})},we=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t.title,year:t.year,genres:t.genres,contentRating:t.contentRating,releaseDate:t.releaseDate,originalTitle:t.originalTitle,storyline:t.storyline},console.log("handleSubmit",n),e.next=4,Q(n);case 4:console.log(t),t.setOpenForm(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(e){var t=e.openForm,n=e.setOpenForm;return Object(U.jsx)("div",{children:Object(U.jsx)(pe.a,{initialValues:ve(n),validationSchema:ye(),onSubmit:we,children:Object(U.jsx)(me,{openForm:t,setOpenForm:n})})})},Se=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(U.jsxs)("div",{children:[Object(U.jsxs)(s.a,{fixed:!0,children:[Object(U.jsx)(ne,{}),Object(U.jsx)(Re,{openForm:n,setOpenForm:a})]}),Object(U.jsx)(ie.a,{title:"Add a Movie",children:Object(U.jsx)(re.a,{color:"primary",style:{position:"fixed",bottom:"10px",right:"10px"},onClick:function(){return a(!0)},children:Object(U.jsx)(ce.a,{})})})]})};i.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(Se,{})}),document.getElementById("root"))}},[[590,1,2]]]);
//# sourceMappingURL=main.b236d283.chunk.js.map